---
ms.Toctitle: Connect to the app launcher
title: "アプリを Office 365 アプリ ランチャーに表示させる"
description: "[個人用アプリ] ページからアプリを Office 365アプリ ランチャーに接続する方法、および Office 365 資格情報を使用したシングル サインオン エクスペリエンスを提供する方法について説明しています。"
ms.ContentId: 089d8e30-a9d3-423f-acf8-c727b32ac36f
ms.date: June 30, 2015

---
[!INCLUDE [Add the O365API repo styles](../includes/controls/addo365apistyles.xml)]


# アプリを Office 365 アプリ ランチャーに表示させる

_**適用対象:**Office 365_
 
アプリ ランチャーは、ユーザーがアプリを簡単に検索してそれにアクセスできるようにする、Office 365 の新機能です。この記事では、開発者がユーザーのランチャーにアプリが表示されるようにする方法、そして Office 365 資格情報を使用したシングル サインオン エクスペリエンスをユーザーに提供する方法について説明します。
 
## アプリ ランチャーは、アプリ、クイック タスクのタイル、そしてユーザーの [個人用アプリ] ページに接続します。
 
ランチャーを起動するには、上部のナビゲーション バーでランチャー アイコンを選択します。

![ユーザーのアプリ ランチャーに表示される既定のタイルには、テナントの基本アプリだけでなく、Outlook タスクや Office 365 管理ポータルなどといった機能へのクリック リンクも組み込まれます。](images\Office365_AppLauncher_Launcher.png)
 
ユーザーのアプリ ランチャーには、特定のテナント内の基本アプリのいくつかが既定で表示されるだけでなく、Outlook タスクや Office 365 管理ポータルなど、すばやいアクセスが必要となるような他の機能へのリンクも表示されます。 ランチャー アイコンは、どのアプリケーションが実行されているかに関係なく表示されるので、アプリを簡単に起動できます。 ランチャーの右下隅にある [**個人用アプリ**] を選択すると、[**個人用アプリ**] ページが表示されます。これは、ユーザーのすべてのアプリに共通のホーム ページです。

ランチャーは、カスタマイズすることも、拡張することもできます。 ユーザーは [**個人用アプリ**] ページから任意のアプリをランチャーに組み込むことができます。上部のナビゲーション バーに最大 3 つのアプリのアイコンが既定で表示されるようにすれば、それらのアプリにすぐにアクセスできます。 ランチャーの詳細については、「[Office 365 の最近の変更内容についてのヘルプを見つける](https://support.office.com/en-us/article/Find-help-for-the-latest-changes-in-Office-365-22E9A8BF-EF08-4B95-B10F-6E839440339C)」をご覧ください。
 
## アプリがユーザーの [個人用アプリ] ページに含まれるように Azure AD と統合する
 
**Office 365** と **Azure Active Directory** を統合することによって、アプリを特定のユーザーに割り当てて、そのユーザーの [**個人用アプリ**] ページにアプリが表示されるようにすることができます。 すべての Office 365 テナントには Azure AD が関連付けられています。Azure AD は、各テナントのすべてのアプリの登録、構成、アクセス許可のソースです。 関連付けられている Azure AD は、Office 365 サブスクリプションによって無料で利用できます。ただし、Azure AD を管理するには、Azure の登録を完了する必要があります ([Azure の登録に関する追加情報](http://technet.microsoft.com/en-us/library/dn832618)を参照)。

次のように、開発者はさまざまな[シナリオ](https://msdn.microsoft.com/en-us/library/azure/dn499820.aspx)で、Azure AD を使用して認証を行うアプリを開発します。 開発したアプリは、次の 2 つの方法でユーザーに割り当てることができます (ユーザーの [**個人用アプリ**] ページには、そのユーザーに割り当てられているアプリが表示されます)。

- 単一の組織用にアプリを開発し、そのアプリを組織の Azure AD に登録します。 または、独立系ソフトウェア ベンダー (ISV) として、Azure アプリケーション ギャラリーに登録するマルチテナント アプリを作成します。 組織の Azure AD 管理者がそのアプリを構成して個々のユーザーに割り当てると、それらのユーザーの [**個人用アプリ**] ページにアプリが表示されるようになります。 管理オプションの詳細について調べるには、「[管理者による Azure AD でのカスタム アプリまたは共有アプリの構成](#section_3)」にスキップしてください。

- ユーザーが自分の Office 365 資格情報を使用してサインオンできるようにして、管理者を割り当てずにユーザーの Azure AD に登録するアプリを開発します。「[アプリのシングル サインオン フロー](#section_2)」のセクションを参照してください。

- ユーザーが **Office ストア**から直接インストールできる Web アプリを開発します。次のセクション、「[Office ストアのシングル サインオン Web アプリ](#section_1_5)」を参照してください。

## Office ストアのシングル サインオン Web アプリ

シングル サインオン フローを使用する Web アプリを作成して、そのアプリを **Office ストア**に提出できます。ユーザーは、アプリ ランチャーにある **Office ストア**の既定のアイコンを選択して、Office 365 の資格情報を使用してアプリをインストールします。アプリの作成手順は、「[アプリのシングル サインオン フロー](#section_2)」に示した手順とほとんど同じですが、インストール アクションはベンダーの Web サイトからではなくストアから実行します。ストアにアプリを提出する場合は、「[販売者ダッシュボードに Office 365 用 Web アプリを提出する](https://msdn.microsoft.com/office/office365/HowTo/submit-web-apps-seller-dashboard)」を参照してください。  

## アプリのシングル サインオン フロー

開発者は **Office 365 API Tools for Visual Studio** を使用して、ユーザーが自分の Office 365 資格情報を使用してインストールできるアプリを開発できます。 インストール後、アプリはユーザーの [**個人用アプリ**] ページに表示され、以降は認証なしで起動できるようになります。 このようなアプリケーションは、独立系ソフトウェア ベンダー (ISV) により、多くの異なる組織で実行されるものとして開発されます (マルチテナント型)。 ユーザーは ISV の Web サイトにアクセスし、Office 365 資格情報を使用してアプリケーションをインストールできます。

###サインオンからランチャーまでのユーザー エクスペリエンス

1. ユーザーがプロバイダーの Web サイト上のリンクを選択し、 Office 365 資格情報を使用してログオンします。
2. Azure AD により、サインオン ページが表示されます。サインオン ページに、アプリの名前と特定のリソース (プロファイル、連絡先など) に対する要求が示されます。 ユーザーは [**OK**] を選択して同意します。
3. プロバイダーがユーザーとのセッションを開始し、ユーザーとの間で情報 (サービス契約の条項、電子メール アドレスの確認) の要求および受信を行います。
4. プロバイダーのアプリへのユーザー サインインが完了します。サインイン後は、ユーザーが **[個人用アプリ]** ページでアプリを見つけて、そのアプリをランチャーに組み込むことができます。

###承認と認証

Azure AD では、標準 **OAuth 2.0** プロトコルを使用して Office 365 のアプリを認証できます。アプリは Azure AD の **認証エンドポイント**から**認証コード**を取得して、そのコードを**トークン エンドポイント**に送信することで、Office 365 API を使用した要求を有効にするためのアクセス トークンおよび更新トークンを取得します。詳細およびフローについては、「[Office 365 のアプリ認証とリソース承認](https://msdn.microsoft.com/office/office365/howto/common-app-authentication-tasks)」を参照してください。

シングル サインオン フローを使用するアプリは、さらに追加のプロトコルとして [**OpenID Connect**](http://msdn.microsoft.com/en-us/library/azure/dn645541.aspx) を使用します。 **OAuth** は**認証コード**を要求する一方、**OpenID Connect** は **ID トークン**を要求します。 このトークンはシングル サインオンを有効にするだけでなく、ID 要求とユーザー プロファイル情報との突き合わせなどといった、サインオン フローの他の要素も使用可能にします。 2015 年の後半には、有効な SAML ベースのアプリケーションの Office ストアへの提出もサポートされます。

###シングル サインオン アプリケーションを構築する際の重要な概念

- **Office 365 API Tools for Visual Studio** は、シングル サインオン フローを有効にするために必要なすべての要素を提供します。 **OpenID Connect** への参照と、[**Open Web Interface for .NET (OWIN)**](http://owin.org/) フレームワークを追加してください。 ユーザー リソースへのアクセス許可を要求するには、**[追加] -> [接続先サービス]** ダイアログを使用します。 必要なツールを調べるには、GitHub ([https://github.com/OfficeDev/O365-WebApp-MultiTenant](https://github.com/OfficeDev/O365-WebApp-MultiTenant)) で関連するサンプル コードを探してください。

- アプリ ランチャーは、アプリケーションのサインオン URL へのサインオンを開始します。サインオン URL の値が空の場合、ランチャーは [Application オブジェクト プロパティ](https://msdn.microsoft.com/library/azure/dn132633.aspx#BKMK_AppObject)の**応答 URL** を既定値として使用します。 シームレスなシングル サインオン エクスペリエンスを提供するには、この値を、アプリケーションのユーザー認証フローを開始する所定の宛先に設定することが重要です。

- アプリを効率的に開発、実動前、実動へと移すために、**リダイレクト URI** の **BaseUrl** は実行時に計算されるようにしてください (例については、前述のサンプル コードの **startup.auth.cs** を参照してください)。

- Azure AD で **OAuth** を使用して認証エンドポイントを呼び出すための構文は、`https://login.windows.net/<tenant>/oauth2/<use>` です。ここで、`<tenant>` は、検証済みのドメイン、テナント ID、または **Common** (マルチテナント アプリの場合) に置き換えることができます。 

- アプリでは、匿名および認証を適用したユーザー エクスペリエンスの組み合わせ、または認証のみを適用したユーザー エクスペリエンスをサポートできます。 認証を必要とする関数については、常に、該当するコード セクションの先頭で **[Authorize]** 属性をご使用ください。

##管理者による Azure AD でのカスタム アプリまたは共有アプリの構成

Azure AD 管理者は次の 2 種類のアプリケーションを構成できます。

- 単一の組織を対象とした基幹業務 (LoB) アプリケーション (シングル テナント アプリ)。これは、エンタープライズ開発者が作成し、組織の Azure AD に登録されるアプリケーションです。

- 複数の組織を対象とした Software-as-a-Service (SaaS) アプリケーション (マルチテナント アプリ)。これは、独立系ソフトウェア ベンダー (ISV) が作成し、Azure **アプリケーション ギャラリー**に保管されるアプリケーションです。

これら 2 種類のアプリケーションを開発および登録する際のガイダンスについては、「[アプリケーションの追加、更新、および削除](https://msdn.microsoft.com/en-us/library/azure/dn132599)」を参照してください。 Office 365 に対する Azure AD での認証のガイドについては、「[Office 365 のアプリ認証とリソース承認](https://msdn.microsoft.com/office/office365/howto/common-app-authentication-tasks)」を参照してください。

管理者が Azure AD にサインオンするには、[**Azure 管理ポータル**](https://manage.windowsazure.com/)を使用するか、または **Office 365 管理センター**の左側のダッシュボードにある [**Azure AD**] メニュー項目を使用します。 Azure AD にサインオンしたら、管理者は該当するディレクトリを選択して、メニューから [**アプリケーション**] を選択した後、コマンド バーの [**追加**] ボタンを選択します。 これにより、次のオプションが表示されます。

- **組織が開発中のアプリケーションを追加**
- **ギャラリーからアプリケーションを追加**

管理者が最初のオプションを選択した場合、[**アプリケーションの追加 ウィザード**] のアプリケーションの [**名前**]、[**種類**]、[**アプリ ID の URI**]、[**サインオン URL**] ([Application オブジェクト プロパティ](https://msdn.microsoft.com/library/azure/dn132633.aspx#BKMK_AppObject)の [**App URL**]) などのフィールドにデータが取り込まれます。 必要に応じて、[**ロゴ ウィザード**] でカスタム ロゴをアップロードします。

2 番目のオプション [**ギャラリーからアプリケーションを追加する**] を選択すると、[**アプリケーション ギャラリー**] が表示されます (以下を参照)。

![サインインした後、Azure AD 管理者は [ギャラリーからアプリケーションを追加] を選択して、アプリケーション ギャラリーにあるアプリを検索したり、組織のカスタム アプリをインストールしたりできます。](images\Office365_AppLauncher_AppGallery.png)

ギャラリーでは、管理者特定のアプリを検索したり、[**カスタム**] を選択して、組織が使用している他のアプリケーションをインストールしたりできます。 アプリを選択してインストールすると、構成メニューが表示されます。このメニューでは、次のオプションから選択できます。
 
- **Microsoft Azure AD によるシングル サインオンを有効にする**
- **(アプリの名前) に対する自動ユーザー プロビジョニングを有効にする (アプリによっては、表示されない場合もあります)**
- **[アプリの名前] にユーザーを割り当てる**

[**Microsoft Azure AD によるシングル サインオンを有効にする**] を選択すると、次のオプションが表示されます。

- **Microsoft Azure AD シングル サインオン** (フェデレーション サインオンを使用するすべてのアプリに適用されます)
- **パスワードによるシングル サインオン**
- **既存のシングル サインオン**

これらのオプションのいずれかを選択すると、Azure AD がアプリケーションに必要なアクセス情報を格納して管理するようになるため、ユーザーは Office 365 資格情報だけを使用して、自分に割り当てられているすべてのアプリにアクセスできます。 シングル サインオンの各オプションの詳細については、「[シングル サインオンのサポート](https://msdn.microsoft.com/library/azure/dn308588.aspx#bkmk_supportsso)」を参照してください。 

次のステップは、ユーザーをアプリケーションに割り当てることです。 前述の [設定] メニューで、[**[アプリの名前] にユーザーを割り当てる**] を選択します。 以下の画面が表示されます。

![Azure AD が [ユーザーを割り当てる] を選択すると、現在割り当てられていないユーザーを選択してから、画面下部のコマンド バーにある [割り当て] を選択して、ユーザーをアプリに割り当てることができます。](images\Office365_AppLauncher_AssignUser.png)

管理者は、[**未割り当て**] から 1 名以上のユーザーを選択できます。アプリに割り当てるユーザーを選択したら、コマンド バーで [**割り当て**] を選択します。 フェデレーション アプリケーションで、あらじめ設定されたユーザー ロールがある場合は、割り当ての一環として、それらのユーザー ロールを特定のユーザー ロールに対応させることができます。 非フェデレーション アプリケーションの場合、管理者はユーザーに代わって資格情報を入力するオプションを使用できます。これを省略すると、ユーザーが最初にアプリを使用するときに、ユーザー名とパスワードの入力を求めるプロンプトが表示されます。

アプリへの割り当てが完了すると、ユーザーの [**個人用アプリ**] ページにアプリのアイコンが表示されます。アプリのアイコンはランチャーに組み込むことができます。アイコンをランチャーに組み込むと、ユーザーはアプリを起動するたびに資格情報を入力しなくても済むようになります。

##その他のリソース

- [Office 365 の最新の変更に関するヘルプを見つける](https://support.office.com/en-us/article/Find-help-for-the-latest-changes-in-Office-365-22E9A8BF-EF08-4B95-B10F-6E839440339C)
- [Office 365 のアプリ認証とリソース承認](http://msdn.microsoft.com/en-us/office/office365/howto/common-app-authentication-tasks)
- [Azure AD の認証シナリオ](https://msdn.microsoft.com/en-us/library/azure/dn499820)
- [アプリケーションの追加、更新、および削除](https://msdn.microsoft.com/en-us/library/azure/dn132599)
- [Azure Active Directory のアプリケーション アクセス機能](http://msdn.microsoft.com/en-us/library/azure/dn308588.aspx)
- [Azure AD Authentication Library for .NET](http://msdn.microsoft.com/en-us/library/azure/jj573266.aspx)
- [Azure Gallery へのアプリケーションの送信](http://blogs.msdn.com/b/azureappgallery/archive/2014/07/23/application-submissions-to-the-azure-gallery.aspx)




